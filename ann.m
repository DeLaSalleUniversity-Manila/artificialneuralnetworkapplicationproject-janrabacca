function [y1] = ann(x1)

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1_xoffset = [1;1;1];
x1_step1_gain = [0.666666666666667;1;0.740740740740741];
x1_step1_ymin = -1;

% Layer 1
b1 = [7.6395901689953325;-5.601208241251614;6.4142656012358961;-6.4339481724254943;-6.0309662411221128;-5.2611639843295803;6.4652330216969007;-5.6668808874586993;6.126293780614831;-4.5667168339886643;5.2254852007786479;-5.054435576201465;4.0979429405259911;-4.7411887259108552;-5.0316700507336964;5.8397195717702157;3.7648786527847049;5.4976513623014656;-4.0282998356947113;-7.3491452339239762;3.6100518672446911;-5.5915367602383652;-3.3336851445511093;3.4670303408485075;2.5377525489649191;2.7452747363606744;-3.1841123153860802;1.8404160822831876;3.4597645225888791;2.3795711432040219;1.7039581470938123;-0.73808639828191058;-2.2763499060806316;-1.752711519350296;-2.4776855444890802;-1.8899093962319353;2.0093711452671714;-1.2952854883663709;1.1256410088915894;3.5296193185278169;1.2798903054990205;-2.1935185031477791;-1.3826499900171989;2.2249123445871568;-0.047933753494628757;-1.9528552856819856;0.72475884272927515;0.63475689678533975;0.32700008165959304;-0.15104187377509584;-0.38523116331451013;0.91006913474056095;0.70023517776707611;0.12919693299272358;-0.98039086650079765;1.7627793595997809;-0.64867170312451883;1.127536197294126;0.77319845715424651;-2.0817081324313742;-1.5415700916605857;0.59991922809733278;-1.9047842619748028;-1.2629808390559389;2.0146428361585165;-2.6289352130342358;1.4090951256101392;2.3951691473361461;3.0897789328770906;2.0831830774835529;2.9334370916168182;-4.1484558971289207;3.0076461667550483;-3.4357552949996633;3.1918365676072002;3.9084830103071004;3.6125810547645392;-3.0033616086416544;-3.6597263333426246;5.1156294595878169;3.8151442859294273;4.7220567094478918;3.0332809092980972;-4.278953440441831;-4.7375025942219553;-5.1004568998699362;-5.7554034657124724;-5.4988366546706633;-5.7531518087604088;5.0863116180604599;-4.9384871790156;-5.0394081905086416;-5.6104789202495908;-4.6452037149726406;-6.3247730358167376;6.0427462099921376;-5.900301471729021;-5.9547576341681712;-6.1494313850148421;-6.8963663580192849];
IW1_1 = [-0.016314078845529538 0.33292828959692827 -10.992751456854156;4.3801939130507677 3.8813009865578025 3.8335604662480627;0.020762408423772184 -5.8690449576058743 2.4242105803374869;1.409686515032847 4.3969193450806348 -4.1863639784316975;1.0383248751750467 -6.5793171382280926 8.9411507315744263;3.0242439295655297 5.0138792108958405 -3.852937045408912;-6.9602449130924189 2.8767303426017041 1.5696486453339131;0.33352583909225914 6.3619243633580265 0.54629876773197317;-4.2133314095172159 -3.3635519646043091 -2.8309149983798054;3.939109289266987 -0.33785748586649927 -5.8091238855291412;-3.0771122021614152 -1.8815862426506664 5.3926899128166408;4.504950322870573 -4.1743362868135918 4.2990894532809021;-6.50051846568266 2.3330727703286671 -3.0552794319789225;1.095625972562428 1.471418018020956 -6.2623415882053353;5.4966545235069084 -3.9800721207122387 -0.22511636100929877;-5.8550524733418152 0.378419517579762 -2.566319521950148;-4.1492609443753823 4.9812410165549146 2.8583060075376374;-6.5180690233107166 -0.47732054030671467 1.3834517244827536;3.5672400483879567 4.0418849379757189 -3.9346422617640564;4.9230642070320103 -0.6617382181130349 11.926890605681077;-4.2114643249877632 -4.5949081653177073 2.5389606301813576;3.6450335693290778 -3.9541867323175146 6.6196332654191057;2.0459520345526476 3.7165296928190181 -5.2338667570099142;-3.9570391960912596 -4.6147947173475803 -6.3799902929696106;-4.8354442027391036 -4.4933023286709082 2.6837786226706086;-8.1599366350588891 0.90552636830019517 5.4265250549846531;5.5584373006272356 -1.2269953554649624 7.5446283982827493;-5.7559642565170526 4.3965732021202681 -0.68132932354850806;-6.9341336683480517 -0.086977503893229113 -0.33250149523870076;-3.8666767688620354 5.1284175666125176 1.1244109479308646;-6.0196391021021665 3.2576471977898058 3.378595982739538;6.2739206942042003 -3.8929639870088866 3.3093601741808882;2.3814810228286989 -6.139445266133662 -0.37335105041950595;5.8333146519094852 2.7114395747537299 -3.1324819922665146;2.231552836591951 3.0690800432215939 6.4471981306885233;0.20629259780850775 -6.3207393104514731 -1.5543422386957642;-3.1371599629556348 5.7509627012224147 1.3424152352316836;4.7577507119931663 0.77638410959926296 7.4104210151555829;-4.2722244066381982 1.7461951963790239 7.1867776261710672;-8.1103598059411564 1.9563655147018228 13.123663574735795;-4.2919786789337024 3.1349750783055277 6.0593233977362519;5.8011053414445106 2.3912138225311601 4.2088485115996255;6.2317607904656027 -1.2153936980360494 -8.964019154150721;-4.1137351000899001 -3.8464024449756979 -5.6470056706376015;-0.3332236122616738 2.2717285935596347 -8.6938855845527723;3.8654377556226254 -3.6533933826717084 -4.8682237915216593;-3.0094394932609885 4.2528092143992948 -10.631288222900096;6.2359838311258038 -2.8231412419407644 -2.3094752398272056;1.6330656707771709 5.7746698420237266 -2.2417778682336595;-1.4449462175017613 -6.2933345774011684 0.94483430731622575;-1.9225936030084267 -4.1044018183815547 9.334764744741042;3.9757939488587635 4.2840684666271169 -2.6454878593535085;3.8477423747643407 -4.829004253131739 -2.0749810883041904;6.4591133848985889 4.4301697791634247 8.3795077928079191;-1.8700937767390629 5.2286291919218506 -5.0071904695729206;7.7668280938007861 -1.1361869353399796 -9.8272282425519482;-6.7380781499051494 -2.7723563812140597 0.32294035788843822;-1.4577108083933776 7.6868143505708542 7.7108762073890729;7.0671053194104054 -0.9738473266608173 -1.6211024435802115;-6.490205850914113 -1.3052726054148316 5.0167601058665694;-4.4319714230144385 -4.8011049859441783 2.8462205913456962;6.505135646729622 -2.0992433640123527 -0.48433034218333071;-6.9526649877010431 -2.7217875573198747 -0.040622860611010191;-2.5964505164076259 5.6445734745284506 7.0671419975537448;3.730370803874504 -2.0850401613227971 -8.5825959786973627;-4.4359823254472612 -2.685170923663351 -3.9092496100132061;5.5185630179455769 -3.947387961472987 -1.7673957421783832;5.2514198221499369 3.3458943132000436 1.9086268032915661;-0.28589597057604499 -4.4877171088633867 4.4651148548103894;2.0628798238428097 6.3949466052204569 -0.27079933989517474;4.4626816190166334 -5.0634271361139183 -0.53383977295140461;-6.3637208642660799 0.38064405257474199 3.7630198261429593;1.3453758989453095 -6.3280677618237444 -0.42902110478479405;-4.8726340438094313 2.5189635689947041 3.7451129029492023;0.51009775796276735 6.416481057453721 -1.0460415470493196;5.1715059750317094 -3.6319852374186787 0.088588653951763643;6.6582046102403698 2.1527780435979516 0.33326128631681073;-0.35191829018105103 2.3844311450730538 -6.3995733802272579;-3.3220312510628931 3.7771057651364357 -4.4874295269186506;2.6352658791420085 0.74609676552461135 -7.0412001909635844;3.8547729835791702 5.2614967634712571 4.3086069858897442;0.50455486423672347 -0.84492774550202188 -6.285207184855345;5.4652299332597636 -2.9440438226257775 4.0088357580538485;-5.5633497493054218 -0.19592253125636688 3.520328295520446;-3.8479441239656467 -2.5016007651308514 4.476545056770779;-2.7516490301857162 3.8658781364927979 4.1365995794797028;-1.8273536434932276 0.4722018231870409 -5.7422371733823585;-2.3124671103821699 -5.1503492063060108 -2.4533107058181303;-2.9271279603167151 -0.10165889074165171 5.2661136829566724;4.0528178822861385 4.3052575254930057 3.1967131598145189;-4.4921427814365096 -1.5285317652728507 4.8100813398228111;-2.0693855088584674 -6.6105909110182006 0.28249754729090371;-2.0335569497851416 3.6417982231397805 -4.9566212600293262;-5.5087297056053401 3.3239365838904744 3.4890263032102569;-5.0304428815497966 -1.1610235122729957 -3.1424116568957503;2.4919797538509494 -6.0613321915218465 0.55922971591131443;-3.6101311117053272 -4.5513099960354282 4.4658584329387505;-6.4694431918679935 0.11438405301113724 1.9208744038249304;-6.5608250046968095 -1.060554613615186 1.9032599103388095;-4.1155224237707255 4.340811279107502 -0.98710026589231747];

% Layer 2
b2 = [-1.1822319821979415;0.56191354002515104;0.29193010303408479;0.11234235651818274;-0.064073297054971765;-0.44798922331639573];
LW2_1 = [0.62947505848204099 -0.40558683809246254 0.23083724233955835 0.82587638027905519 -1.5672314407438137 -0.370644093260736 2.8005506584024458 1.4720188088394512 -0.61648391935749958 1.290086751490676 -1.4595355723559438 -1.4513567484544114 -1.6248233157497647 -0.14225934443749672 0.5657168857221162 2.5846743495017952 -0.16521222143132933 0.52288595783727043 0.47281955605197529 2.9776130652946704 -0.39200497812526641 0.62952758753039284 -0.35381114977904887 1.7548892931235258 0.15111835622682934 3.1676169252140345 -0.060804920426333849 -0.52547792724181042 0.16469077307278446 -0.79687457791667626 -1.2837147270909839 1.4736330781340461 -0.44046114082085963 -0.3506811785235962 -1.8039397672349502 -1.009404793831439 0.44143503324775241 0.91239154173786674 -0.63353406980355598 -4.2576424224154747 0.064584878204167501 -1.2113101044489578 -0.084318428984243105 0.090566707446690708 -0.54977614844541289 -0.82272555231207134 -3.9597120724482169 -0.10905864780111214 1.0785776609935531 -1.2601349587567019 1.1762051057322056 -0.36152130733129267 -1.3055667361293484 3.0478900975297245 0.63249182092287948 0.50767884269896402 -1.1319019661695682 -0.50315446305519029 -0.59857239107673976 -1.4340832578029015 0.49666896175232067 -0.0078264810995408302 0.22423968607570194 -0.072203263055192812 0.29052558352913183 0.97464570312626109 -0.35241631669316353 0.74530406453216691 -0.16207984023059274 -0.24880416615830023 0.47488581987038569 -1.1004599906289847 0.44773493677993342 -0.33211248178385377 -0.56750301113504076 0.27255510059830884 0.88535283601684578 -0.57919954821973541 1.2358948545608919 -0.93118411584678862 -1.1155807238464717 0.79385530752230038 0.035150109413029658 0.40565957330580238 0.47340393588502461 0.27684242270196202 0.99509328013255172 1.1723755178518622 0.7220720835624691 -1.2734705206333654 0.99725830673661109 1.3703542464090839 -0.038415040479012147 -0.090252610889624968 0.48915756793482645 0.2193598445755961 -0.31555505757815516 0.94537131467667501 1.2130840520481485 1.0839164265608292;-0.63206114376794353 -0.47525274801662737 -0.20194698661937655 -0.49335384635319129 -0.16473327060099655 -0.29798216601818639 2.7978774892110545 -0.61451411471874928 1.1486125813031187 -0.089257313759634027 0.60533923560067904 2.9149403234020403 -1.9074342833893962 0.36498198014960692 0.5612962700026306 -1.7579658393747968 -0.67126458138375467 1.1323465782481603 -0.55192978825882177 -2.1898332613086762 1.7764083430701314 4.4256175737258543 0.84439378172423984 -2.2311767277297294 1.7315359302784952 4.700454712677967 2.589095499153772 1.7371019485501247 1.045487216007106 0.961269907001569 0.23973355942792926 -3.3489990917995214 -0.85246234882842464 -0.68189516690422636 3.0212169646706553 0.23420115719684201 1.2183169521595074 0.36978936741749213 -1.8744439569202336 3.9907314507851011 0.078481751270828168 -0.69616108388973885 2.7086587640620259 -0.80811849401320512 0.68624307041616517 1.8663289171808863 3.8186982870550428 0.65262731155010745 0.84519588885927932 0.28511507654516188 -0.15193480093279482 1.5579553673506541 0.28687153273200189 -8.1828663001953785 -1.0286790832015569 1.9197163910505421 0.61316689491963294 -4.3333543176823843 -1.9427926845703449 -1.6186859318926301 1.5406282683926269 -1.6084462717905756 -1.2903172405786438 3.9340779075387085 -4.944425847296765 1.1503021716343076 -0.94124666798503454 -0.37222559530235505 0.23608296566828127 -0.18829246655963316 1.0890560903829758 2.799838048307171 1.7108737683815507 -1.1358151115914039 1.5934459124481528 0.46036176756045882 -1.6619936232451242 0.16793197460061779 -1.0373106479277294 -0.13522547194272555 2.2951957673334489 0.711192214902584 -1.4259835936284251 0.52469248151396286 -0.25908347565735834 -0.82670849036681282 -0.20345526747206907 -0.89817468555286084 -1.0983220201543731 0.94508689877804686 -0.97914868370427288 -0.69746503834797213 0.50644143794414165 -1.4199137426757567 0.58565602877124268 0.091509375173317017 0.65395398040742081 0.89237050989125655 0.72014485787232119 -0.44675130443450761;-4.6235214645225984 1.0970115179545463 -0.67167628003433122 -0.69990364225237178 1.8458952825450925 1.4786644224128873 -0.43553724919804088 0.5436880969439789 -1.8275860802460464 -1.4183680463882624 1.1561951170063094 0.3649993655160676 1.1627620830954326 -0.12790937141188705 -0.58109886648572051 0.69384305703489368 0.07356973771294506 0.43741235218582841 1.6400586115895766 -8.18207077651509 0.4038418638827036 -1.6423769420689251 1.0415546459353622 0.081480556443883967 -0.73728498619523175 -0.45602826269015295 0.89189027143452959 1.7831041715827287 -1.1278893565554473 1.7040007188698674 2.6209825514305223 -1.3959586159271049 -0.1778720496844409 -0.90025622645792314 1.3823957649292653 0.19032527402990118 0.25280928019665894 -2.087479191810973 5.0417468484145012 -3.8991734871336137 -3.024831451898617 -1.8803328527430303 -5.1810526218263533 -0.27762129622341986 -2.143233774918988 2.8667781784215767 -0.68550995309133078 -3.0175581774269142 -1.0872521714859178 0.74707414713759501 3.4347906981353327 -2.434076788753599 0.097338245334508008 5.6809627382445207 -0.091264915155433446 7.4958317786102997 -0.056075025110839033 1.4606969404970149 -0.13638216072761755 1.5085805441653057 1.2475471243734766 -0.54945829953939229 -1.790703596565248 -0.33234496804107477 3.3158552483699917 -0.97779730341048143 1.2437398317658608 -0.6524819794207154 -0.66217449048187826 0.041149384772811472 2.065470537974528 -3.1233339894233749 -0.7597920035952086 1.1866374783927647 -0.64499009716206368 -1.0708775938536603 -0.31800590707359055 1.8916556613698186 2.0241289982749535 0.9398101609189462 0.8902720114590249 1.7177326934852235 -2.5290982332159162 0.24563584849382455 -1.3033212765279867 -0.85346580496778646 0.57412978455023556 1.1216560256752801 0.54798489893248414 0.50261041576428178 -0.61606545701004556 0.0050075400681813854 0.66875731158667173 0.21887502647022158 0.52219632036710351 -0.73312033478472627 -1.9013249390574818 -0.84708918732454852 -0.23620573834140221 -0.662495006316973;2.9766000615643655 -1.9521133370751975 0.083202250752151194 0.79266396108299697 -7.1270750749847016 -0.39993187470665459 -4.9383370413909704 -0.3156788931735639 1.9477074597511805 -0.40889229554962458 -0.65916953067218664 -0.80936600413713244 -1.160173354460065 -0.35775166640676082 -1.720397634989925 3.475490081509466 1.3227316264870692 1.230560020628922 -0.6728724537898163 8.1982908332705726 2.1480858163110432 0.19751355918336741 -1.345530189507975 0.53363097244655411 1.7464844772773507 -0.68900315077993435 -2.5396873184041371 -1.407936200021318 -0.99328288760363725 -0.12667198206535726 2.0155078101337649 -1.0345138782996444 -1.1673777892324719 -1.3782197512082308 -2.8990230828764219 0.24367684849791216 1.7112616582917644 0.38110309455329738 -3.2317279311765468 6.7417457188771488 1.1242075375610951 -2.1721122326383497 8.258901257552802 2.7189290153106587 -4.0156198298994585 -1.965222078975843 -3.2221161801529332 1.5811576647963699 0.26325420615992029 -0.9038721758045497 -3.6047178203036427 0.46843777685165733 1.3515130503243573 0.48860392207238401 2.8594927970560202 -5.466047723271604 0.47020753454545999 -3.196282161923544 3.288036801860442 -2.7434285180055098 -0.93315468592240136 1.577932700582436 1.8015957252419323 1.6371765138941976 -2.915807221332011 0.22067361565140331 0.20835731017495801 1.2711441897433191 0.22125955491318242 -0.63474405588132266 -1.4849646594068877 2.5482631142346688 -0.90707333046909877 1.4110903236406178 0.29007002463156334 -1.0612252265587818 2.1716130564354672 -0.56991145496981277 0.53678504015387052 -1.2149209405992407 -0.29298469425211693 0.52227789503498945 -0.10929476635663622 -0.030753459811695156 1.014737898145601 1.0092948081539606 0.25278174007828846 -0.89698111837724881 0.69626777737380885 0.37448151370149801 0.39990775653677307 -0.25361383032300938 -0.31387149084939486 1.5470129832341433 -0.78201059304681098 -1.5076662387934781 2.2679545910612049 -0.3847548694937456 -0.13636202677701204 1.3296790746522289;6.2623438395123312 -0.75970895220111223 0.70964979238042381 -1.1534523140399602 4.394860343575953 -0.11149203307602007 1.6281626474539852 0.070075612831287007 -0.036595245238888928 1.5163107279444856 0.95324547883752031 -0.64558244019798539 -0.71748370871826672 -0.60351810451177335 2.0415235316340143 -2.2231436977562629 -0.99696007530209685 -5.8241352132239435 0.88633239243665218 4.6154558713232428 -1.6291509687281978 -4.2847974045074846 -0.9644907407859088 -2.8525360209745911 -1.2072338688638016 -4.4089722836827052 -5.1912231840323395 -0.28264036100866907 2.3812979448103846 -2.1310459003639313 -1.9751484343881369 1.6061415502871565 0.96418434403395159 2.599318787128758 -0.94602409875964544 1.7418754226167037 -2.1834689574097901 -3.4953524606942556 0.99511685515193427 6.5806474988779877 -0.20603692431439663 4.3777587756116256 -1.0115617025902617 2.0107273559176759 4.0560500232327694 -2.4888951456688093 6.2465444223199258 -0.56655888097753404 -0.75111384511950974 0.61611185127216617 -6.2784668844830067 -0.34166461384102709 -1.1855187792898316 1.5881065680884678 -0.20454394883006446 -4.2180031215353511 -1.004332950180757 6.9774350858864178 -0.42168884322197575 3.9864975942373762 -1.8285592463139435 1.5943917491707815 -2.5725749693273881 -6.230172191774213 4.3702146682358176 -0.47670319955336538 -1.2452112585466559 -0.15786346989156433 1.6135800943761642 -1.3961599576655492 -0.77313429309512638 -1.2189429100797342 -0.077507678193422788 -2.8739687647602228 -1.7120451182528493 1.6050653681411442 -2.5753651838010412 -1.3843188199776948 -1.6759543078190027 -3.0079009171870794 -2.1774112376286188 -3.0557264448750612 3.0981865265091937 -0.92691076032315289 -0.13828287876566223 -1.2347742023231512 -0.67482575518362009 -0.45505910607311911 -0.50988536868730505 1.0932257704856738 0.22785256867719872 -0.029104082256802759 0.1339755234119353 -1.6377143245629131 -0.41713724407983882 1.3729787789965289 0.40197939214011502 0.033089304358107217 -2.2508086224137211 -0.85070799168982769;-5.9217286240719451 0.76185396545793715 0.19810857732907647 0.45883059235131618 3.8511072157430468 0.23789010226478394 -1.7233543666885824 0.30605256059215186 -0.32064616877895485 -0.37087489272040053 -0.44826523772297494 -0.35755830089103613 1.2723838384030661 0.028226772649525229 -2.373346404149645 0.58893633405578072 1.4583303223044028 0.70864959051978305 -0.59170986434338013 -2.4835867622526098 0.38529186122147696 -0.17634083834722852 -0.35213144491949905 3.4200674791738752 -0.85575819009974474 -1.5936406955642208 3.3389503636945208 -1.3618966821846461 -1.4519782174030955 -0.050039627512648108 1.5479942934238093 1.9811505811319792 -1.1850902698837082 -0.69400110202261411 -0.56031063520333291 -0.97567959889848688 -0.1342026350414362 3.8095407244253172 0.76486737121705151 -9.022218608811885 2.7724955556206119 1.8344152853626039 -2.8220534731785021 -3.6666473904523977 3.8954229251200707 0.19834531346009585 0.20969258634395943 1.302675089059786 -0.67509021784952772 -0.2844244536176731 2.9435888750712129 0.89543441723743566 1.3118747529792065 -2.6736655564463478 -1.0445121044961994 0.10711935810107019 0.57829656578896027 -0.19011744265958935 1.0023484878679998 0.68848115802610754 1.3908055630284919 -0.41430264605271572 3.2573795330733359 0.50564032892110689 1.576862463790788 -1.1315861830420606 0.44657629266024262 -0.74852856973027415 0.25219311485412593 1.1900050236697211 0.28171768290426175 -0.41997767382950402 0.7615862736343304 -0.7578496894114134 0.28755580239190287 -0.41859360875038898 1.7811830361191456 -0.94443719455607078 -0.14001262603688561 2.9752734542132377 1.3065691305320679 -0.20814110223653076 -0.44940266991297645 0.83506064442521 -1.233942442883935 0.80081654727302909 -0.82119434022796489 0.25300366793294926 -0.079986285112233046 -1.4351571889931019 -0.94121826647765527 -0.79012665134902471 0.95095786757152101 -0.76071485265163064 0.32494108922578996 0.069697571228601166 -0.94484699935799699 0.10542950470077087 0.20780638551009034 -0.17490260061746343];

% Output 1
y1_step1_xrows = 8;
y1_step1_remove = [1 2];
y1_step1_value = [0;0];
y1_step1_keep = [3 4 5 6 7 8];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = softmax_apply(repmat(b2,1,Q) + LW2_1*a1);

% Output 1
y1 = removeconstantrows_reverse(a2,y1_step1_keep,y1_step1_remove,y1_step1_value,y1_step1_xrows);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
y = bsxfun(@minus,x,settings_xoffset);
y = bsxfun(@times,y,settings_gain);
y = bsxfun(@plus,y,settings_ymin);
end

% Competitive Soft Transfer Function
function a = softmax_apply(n)
nmax = max(n,[],1);
n = bsxfun(@minus,n,nmax);
numer = exp(n);
denom = sum(numer,1);
denom(denom == 0) = 1;
a = bsxfun(@rdivide,numer,denom);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Remove Constants Output Reverse-Processing Function
function x = removeconstantrows_reverse(y,settings_keep,settings_remove,settings_value,settings_xrows)
Q = size(y,2);
x = zeros(settings_xrows,Q);
x(settings_remove,:) = settings_value(:,ones(1,Q));
x(settings_keep,:) = y;
end
